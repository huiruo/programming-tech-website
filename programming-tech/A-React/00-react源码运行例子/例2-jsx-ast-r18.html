<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
</head>

<body>
    <!-- 注意: 部署时，将 "development.js" 替换为 "production.min.js"。-->
    <!-- <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script> -->

    <!-- <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script> -->
    <!-- 18 -->
    <script src="./react.development18.js"></script>
    <script src="./react-dom.development18.js"></script>

    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <div id="root"></div>
    <script type="text/babel">
        class LikeButton extends React.Component {
            constructor(props) {
                super(props);
                this.state = { liked: false };
            }

            render() {
                if (this.state.liked) {
                    return (
                        <div onClick={() => this.setState({ liked: !this.state.liked })}>click me again</div>);
                }

                // /* 不使用Jsx
                // return React.createElement(
                //     'button',
                //     { onClick: () => this.setState({ liked: true }) },
                //     'Like'
                // );

                // /* 使用babel
                return (
                    <div>
                        <button onClick={() => this.setState({ liked: !this.state.liked })}>
                            Like1
                        </button>
                        <p>这是兄弟节点</p>
                    </div>
                );
                // */
            }
        }

        const element = React.createElement(
            'div',
            { className: 'red' },
            'Click Me'
        )

        function MyApp() {
            return <h1>Hello, world!</h1>;
        }

        const container = document.getElementById('root');
        // test 1
        const astTree = React.createElement(LikeButton)
        // test 2
        // const astTree = React.createElement(MyApp)

        // test 3
        // const astTree = element

        console.log('例_2_jsx_ast_r18.html--createElement 转化后ast树的结构:', astTree)

        // 这样17渲染报错？
        // /*
        // const root = ReactDOM.createRoot(container);
        // root.render(astTree);
        // */

        // 或则这样渲染,ReactDOM.render 在17可以用，18会弃用
        ReactDOM.render(astTree, container);
    </script>
</body>

</html>